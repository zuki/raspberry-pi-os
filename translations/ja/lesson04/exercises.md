## 4.5: 演習

1. すべての主なカーネル関数に`printf`を追加して、現在のメモリと
プロセッサの状態に関する情報を出力してください。このレッスンの
RPi OSパートの最後で示した状態図が正しいことを確認してください。
（必ずしも毎回すべての状態を出力する必要はありませんが、何か大きな
イベントが発生したときには、現在のスタックポインタや割り当てられた
ばかりのオブジェクトのアドレス、その他必要に応じて何でも出力する
ことができます。情報の氾濫を防ぐための仕組みを考えてください。)
2. タスクに優先順位をつける方法を導入してください。優先度の高い
タスクは、優先度の低いタスクよりも多くのプロセッサ時間を確保する
ようにしてください。
3. ユーザプロセスがFP/SIMDレジスタを使えるようにしてくだだい。それには
これらのレジスタをタスクコンテキストに保存し、コンテキストスイッチの
際にスワップする必要があります。
5. カーネルが無制限にタスクを持てるようにしてください(現在の制限は64)。
6. レッスン04をqemu上で実行できるようにしてください。[このissue](https://github.com/s-matyukevich/raspberry-pi-os/issues/8)を参考にしてください。

##### 前ページ

4.4 [プロセススケジューラ: スケジューラ](../../ja/lesson04/linux/scheduler.md)

##### 次ページ

5.1 [ユーザプロセスとシステムコール: RPi OS](../../ja/lesson05/rpi-os.md)
